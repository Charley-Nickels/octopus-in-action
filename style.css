:root{
  --bg:#101218;
  --ink:#e5e7eb;
  --muted:#9aa0a6;
  --panel:#1b1f2a;
  --panel2:#232838;
  --accent:#8ab4f8;
  --gold:#e6c15b;
  --warn:#e58;
  --green:#7ce39c;
  --grid:#2a3043;
  --shadow:rgba(0,0,0,.35);
  font-synthesis-weight:none;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font: normal 12px Verdana, Geneva, Tahoma, sans-serif;}

#hud{
  position:sticky; top:0; z-index:5;
  background:linear-gradient(0deg,var(--panel),var(--panel2));
  display:flex; justify-content:space-between; align-items:center;
  padding:8px 10px; border-bottom:1px solid #000; box-shadow:0 2px 0 var(--shadow);
}
.hud-group{display:flex; gap:10px; align-items:center;}
.hud-label{color:var(--muted); margin-right:4px}
.icon{display:inline-block; width:12px; height:12px; margin-right:4px; vertical-align:-2px;}
.icon.coin{background: radial-gradient(circle at 30% 30%, #fff7c2 20%, var(--gold) 60%, #a88315)}
.icon.star{background:
  conic-gradient(from 0deg,#ffd 0 10%, #0000 10% 20%, #ffd 20% 30%, #0000 30% 40%, #ffd 40% 50%, #0000 50% 60%, #ffd 60% 70%, #0000 70% 80%, #ffd 80% 90%, #0000 90% 100%);
  clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
  background-color:#f5d76e;
}

#toolbar{
  display:flex; gap:8px; padding:8px 10px; background:var(--panel); border-bottom:1px solid #000;
}

.btn{
  background:var(--panel2); color:var(--ink);
  border:1px solid #000; padding:6px 10px; cursor:pointer;
  box-shadow: inset 0 0 0 1px #3a4466, 0 2px 0 #000;
  text-transform:uppercase; letter-spacing:.5px;
}
.btn:hover{box-shadow: inset 0 0 0 1px #5a6591, 0 2px 0 #000; color:#fff}
.btn:active{transform:translateY(1px); box-shadow: inset 0 0 0 1px #5a6591, 0 1px 0 #000;}
.btn.warn{color:#fff; background:#4a2433; box-shadow: inset 0 0 0 1px #8a3a57, 0 2px 0 #000;}

#game-wrap{position:relative; display:flex; justify-content:center; padding:16px;}
#game{image-rendering:pixelated; border:1px solid #000; background:#182033; box-shadow:0 4px 0 #000;}
#toast{
  position:absolute; bottom:16px; left:50%; transform:translateX(-50%);
  background:rgba(0,0,0,.7); padding:6px 10px; border:1px solid #000; border-radius:4px;
  display:none;
}

.window{
  border:none; padding:0; background:transparent;
}
.window::backdrop{background:rgba(0,0,0,.5)}
.window > .window-title{
  background:var(--panel2); padding:8px 10px; border:1px solid #000; border-bottom:none;
  text-transform:uppercase; letter-spacing:.5px;
}
.window .license, .window .shop-list, .window .mail-list{
  background:var(--panel); border:1px solid #000; padding:10px; max-height:60vh; overflow:auto; min-width:360px;
}
.window .window-footer{display:flex; gap:8px; justify-content:flex-end; padding:8px 0}

.license{display:flex; gap:12px}
.license .portrait{width:48px; height:48px; border:1px solid #000; background:#0e1324; box-shadow: inset 0 0 0 1px #3a4466;}
.license .fields > div{margin:4px 0}
.legend{color:var(--muted); margin-left:8px;}

.shop-list .item, .mail-list .mail, .build-item{
  display:flex; justify-content:space-between; align-items:center;
  background:var(--panel2); border:1px solid #000; padding:8px; margin:6px 0; gap:10px;
}
.shop-list .item .meta, .build-item .meta{display:flex; flex-direction:column; gap:4px}
.price{color:var(--gold)}
.small{color:var(--muted); font-size:11px}

/* Task bubble above heads */
.bubble{ position:absolute; width:16px; height:16px; background:#ffd966; border:1px solid #000; }
